<f:view
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets"
>
<h:form id="describefileafterupload2" >  



	
 <h:outputText value="Please enter descriptive information about each file uploaded." /> <br/>
<h:outputText value="If the file does not correspond to a Figure or Panel, you must enter a description." /> 

	 <p:growl id="messages" showDetail="true"/>  
  
    <p:dataTable  var="mfiles" rowKey="#{mfiles.index}" value="#{pubMedSearch.allfiles}" id="editList" editable="true" editMode="cell" paginator="true" rows="10" paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}" rowsPerPageTemplate="5,10,15" >  
  
        <f:facet name="header">  
            File Descriptions 
        </f:facet>  
  
    
  
        <p:column headerText="Original Filename" style="width:10%">  
             
               
                   #{mfiles.filename} 
                
              
            
        </p:column>  
  
  
  
        <p:column headerText="Figure Number" style="width:10%">  
            <p:cellEditor>  
                <f:facet name="output">  
                    <h:outputText value="#{mfiles.figure}" />  
                </f:facet>  
                <f:facet name="input">  
                    <p:inputText value="#{mfiles.figure}"  style="width:100%" label="Figure"/>  
                </f:facet>  
            </p:cellEditor>  
        </p:column>  
  
  
  
        <p:column headerText="Panel Number" style="width:10%">  
            <p:cellEditor>  
                <f:facet name="output">  
                    <h:outputText value="#{mfiles.panel}" />  
                </f:facet>  
                <f:facet name="input">  
                    <p:inputText value="#{mfiles.panel}"  style="width:100%" label="Panel"/>  
                </f:facet>  
            </p:cellEditor>  
        </p:column>  
  
  
        <p:column headerText="Description" style="width:35%">  
            <p:cellEditor>  
                  <f:facet name="output">  
                    <h:outputText value="#{mfiles.description}" />  
                </f:facet>  
                <f:facet name="input">  
                    <p:inputText value="#{mfiles.description}"  style="width:100%" label="Description" required="true" requiredMessage="You must enter a description when there is no figure and no panel"/>  
                </f:facet> 
            </p:cellEditor>  
        </p:column>  
        <p:column headerText="" style="width:35%">  
  
                    <h:outputText value="#{mfiles.message}" style="color: red"/>  
        </p:column> 
  
       
  
    </p:dataTable>  
  
 
			
<br/>
<p:commandButton value="Back" id="movebstep" validateClient="true" action="#{pubMedSearch.moveStep(5)}"/>
<p:commandButton value="Next" id="movetstep" validateClient="true" action="#{pubMedSearch.moveStep(6)}"/>


</h:form>


</f:view>