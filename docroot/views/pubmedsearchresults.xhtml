<f:view
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets"
>

	<h:form id="pmsearchresults">
	
		<p>Please select one of the citations from the list below.<br/>Please do NOT use your browser's back button at anytime during the upload process.</p>
		<h:outputText value="#{pubMedSearch.uploaderr}" style="color:red"/>
		<p>
			<p:commandButton value="Back: Start a New Search" action="#{pubMedSearch.moveStep(1)}" onclick="setTimeout('document.getElementById(\'' + this.id + '\').disabled=true;', 50);" oncomplete="setTimeout('document.getElementById(\'' + this.id + '\').disabled=false;', 50);"/>
			<p:commandButton style="margin-left:15px;" value="Next: Confirm Selected Publication" id="step4nexttop" action="#{pubMedSearch.moveStep(4)}" onclick="setTimeout('document.getElementById(\'' + this.id + '\').disabled=true;', 50);" oncomplete="setTimeout('document.getElementById(\'' + this.id + '\').disabled=false;', 50);"/>
		</p>
		<h:outputText value="#{pubMedSearch.redostep3msg}" style="color:red" id="m1"/>
		<p:dataTable id="firsttable" var="pubs" value="#{pubMedSearch.publications}" selection="#{pubMedSearch.selectedPub}"  rowKey="#{pubs.index}" selectionMode="single"  paginator="true" rows="10" paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}" rowsPerPageTemplate="5,10,15" > 
			<p:column headerText="PubMed Search Results" > 
				<strong>#{pubs.index}. #{pubs.title}</strong><br/>
				#{pubs.fullnames}.<br/>
				#{pubs.journalname}. #{pubs.journalyear} #{pubs.journalmonth} #{pubs.journalday}; #{pubs.epubsum2}<br/>
				#{pubs.doi} #{pubs.epubsum}<br/>
				<h:outputText value="This record already exists in the CEP Tools repository."  id="exists1" style="color: red" rendered="#{pubs.exists}"/><br/>
		 		PMID: #{pubs.pmid}
			</p:column>  
		</p:dataTable>  
		<br/><h:outputText rendered="#{!empty pubMedSearch.redostep3msg}" value="#{pubMedSearch.redostep3msg}" style="color:red" id="m2"/>
		<p>
			<p:commandButton value="Back: Start a New Search" action="#{pubMedSearch.moveStep(1)}" onclick="setTimeout('document.getElementById(\'' + this.id + '\').disabled=true;', 50);" oncomplete="setTimeout('document.getElementById(\'' + this.id + '\').disabled=false;', 50);"/>
			<p:commandButton style="margin-left:15px;" value="Next: Confirm Selected Publication" id="step4next" action="#{pubMedSearch.moveStep(4)}" onclick="setTimeout('document.getElementById(\'' + this.id + '\').disabled=true;', 50);" oncomplete="setTimeout('document.getElementById(\'' + this.id + '\').disabled=false;', 50);" />
		</p>
		<p>Please do NOT use your browser's back button at anytime during the upload process.</p>
	</h:form>
</f:view>